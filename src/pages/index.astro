---
import Base from "../layouts/Base.astro";

const projects = [
  {
    name: "AroFlo Integration",
    description:
      "Catches spelling mistakes in AroFlo job cards and handles the invoice prep automatically",
    repo: "https://github.com/Nick891770/aroflo-integration",
    tag: "Automation",
  },
  {
    name: "Toolbox Talk Generator",
    description: "Generates branded toolbox talk PDFs for monthly safety meetings",
    repo: "https://github.com/Nick891770/toolbox-talk-generator",
    tag: "Safety",
  },
  {
    name: "SWMS Generator",
    description: "Builds SWMS documents with the hazard and control tables already filled in",
    repo: "https://github.com/Nick891770/swms-generator",
    tag: "WHS",
  },
  {
    name: "Electrical Test Sheet",
    description: "Installation test sheets that follow AS/NZS 3000",
    repo: "https://github.com/Nick891770/electrical-test-sheet",
    tag: "Compliance",
  },
  {
    name: "Job Prestart Checklist",
    description: "Daily prestart checklists for job sites",
    repo: "https://github.com/Nick891770/job-prestart-checklist",
    tag: "Safety",
  },
  {
    name: "Vehicle & Equipment Prestart",
    description: "Inspection forms for vehicles and gear",
    repo: "https://github.com/Nick891770/vehicle-equipment-prestart",
    tag: "Fleet",
  },
  {
    name: "SOP Generator",
    description: "Step-by-step SOPs with proper formatting and branding",
    repo: "https://github.com/Nick891770/sop-generator",
    tag: "Ops",
  },
  {
    name: "Trade Website SEO",
    description: "SEO tools built for trade business websites",
    repo: "https://github.com/Nick891770/trade-website-seo",
    tag: "SEO",
  },
];

const sideProjects = [
  {
    name: "The Program",
    description:
      "Workout tracker I built for getting back into training. Logs sets, weight, RPE and session notes, all in the browser with no sign-up.",
    url: "https://nick891770.github.io/The-Program/",
    repo: "https://github.com/Nick891770/The-Program",
  },
];

const links = [
  { label: "GitHub", url: "https://github.com/Nick891770", icon: "github" },
  { label: "X", url: "https://x.com/NIcklaws89", icon: "x" },
  { label: "Threads", url: "https://www.threads.net/@nicklaws89", icon: "threads" },
  {
    label: "Laws Electrical",
    url: "https://lawselecservices.com",
    icon: "web",
  },
  {
    label: "nick@lawselecservices.com",
    url: "mailto:nick@lawselecservices.com",
    icon: "email",
  },
];

const iconPaths: Record<string, string> = {
  github: "M12 0C5.37 0 0 5.37 0 12c0 5.31 3.435 9.795 8.205 11.385.6.105.825-.255.825-.57 0-.285-.015-1.23-.015-2.235-3.015.555-3.795-.735-4.035-1.41-.135-.345-.72-1.41-1.23-1.695-.42-.225-1.02-.78-.015-.795.945-.015 1.62.87 1.845 1.23 1.08 1.815 2.805 1.305 3.495.99.105-.78.42-1.305.765-1.605-2.67-.3-5.46-1.335-5.46-5.925 0-1.305.465-2.385 1.23-3.225-.12-.3-.54-1.53.12-3.18 0 0 1.005-.315 3.3 1.23.96-.27 1.98-.405 3-.405s2.04.135 3 .405c2.295-1.56 3.3-1.23 3.3-1.23.66 1.65.24 2.88.12 3.18.765.84 1.23 1.905 1.23 3.225 0 4.605-2.805 5.625-5.475 5.925.435.375.81 1.095.81 2.22 0 1.605-.015 2.895-.015 3.3 0 .315.225.69.825.57A12.02 12.02 0 0024 12c0-6.63-5.37-12-12-12z",
  x: "M18.244 2.25h3.308l-7.227 8.26 8.502 11.24H16.17l-5.214-6.817L4.99 21.75H1.68l7.73-8.835L1.254 2.25H8.08l4.713 6.231zm-1.161 17.52h1.833L7.084 4.126H5.117z",
  threads: "M12.186 24h-.007c-3.581-.024-6.334-1.205-8.184-3.509C2.35 18.44 1.5 15.586 1.472 12.01v-.017C1.5 8.418 2.35 5.564 3.995 3.512 5.845 1.208 8.598.027 12.179.003h.014c2.746.02 5.043.725 6.826 2.098 1.677 1.29 2.858 3.13 3.509 5.467l-2.04.569c-1.104-3.96-3.898-5.984-8.304-6.015-2.91.022-5.11.936-6.54 2.717C4.307 6.504 3.616 8.914 3.589 12c.027 3.086.718 5.496 2.057 7.164 1.43 1.783 3.631 2.698 6.54 2.717 2.623-.02 4.358-.631 5.8-2.045 1.647-1.613 1.618-3.593 1.09-4.798-.31-.71-.873-1.3-1.634-1.75-.192 1.352-.622 2.446-1.284 3.272-.886 1.102-2.14 1.704-3.73 1.79-1.202.065-2.361-.218-3.259-.801-1.063-.689-1.685-1.74-1.752-2.96-.065-1.182.408-2.256 1.33-3.022.868-.72 2.048-1.118 3.407-1.149 1.012-.023 1.95.089 2.818.316-.084-1.16-.478-2.028-1.174-2.582-.806-.641-1.963-.967-3.436-.967h-.024c-1.17.008-2.116.285-2.81.821l-1.122-1.632C8.251 4.664 9.58 4.263 11.165 4.25h.03c1.93.012 3.476.498 4.592 1.445 1.043.886 1.69 2.154 1.931 3.766.56.161 1.073.381 1.533.657 1.254.751 2.176 1.836 2.663 3.139.763 2.042.754 5.066-1.679 7.449-1.893 1.853-4.209 2.748-7.508 2.912-.108.006-.217.008-.325.008zM11.46 12.18c-1.028.023-1.867.277-2.432.736-.503.408-.74.927-.706 1.543.04.72.399 1.304 1.068 1.737.647.42 1.478.612 2.3.571 1.153-.063 2.019-.478 2.646-1.269.357-.45.636-1.06.838-1.824-.69-.215-1.454-.349-2.282-.373-.153-.005-.306-.003-.46 0l.028-.001v-.12z",
  web: "M12 2C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2zm-1 17.93c-3.95-.49-7-3.85-7-7.93 0-.62.08-1.21.21-1.79L9 15v1c0 1.1.9 2 2 2v1.93zm6.9-2.54c-.26-.81-1-1.39-1.9-1.39h-1v-3c0-.55-.45-1-1-1H8v-2h2c.55 0 1-.45 1-1V7h2c1.1 0 2-.9 2-2v-.41c2.93 1.19 5 4.06 5 7.41 0 2.08-.8 3.97-2.1 5.39z",
  email: "M20 4H4c-1.1 0-1.99.9-1.99 2L2 18c0 1.1.9 2 2 2h16c1.1 0 2-.9 2-2V6c0-1.1-.9-2-2-2zm0 4l-8 5-8-5V6l8 5 8-5v2z",
};
---

<Base
  title="Nick Laws — Building AI Systems for Trade Businesses"
  description="Electrician and business owner building AI-powered tools for trade businesses. Brisbane, Australia."
>
  <main>
    <header class="hero">
      <div class="hero-bolt" id="hero-bolt">
        <svg viewBox="0 0 24 24" width="32" height="32" fill="currentColor" aria-hidden="true">
          <path d="M13 2L3 14h9l-1 8 10-12h-9l1-8z"/>
        </svg>
      </div>
      <h1>Nick Laws</h1>
      <p class="tagline">
        Building AI systems for trade businesses<span class="cursor">_</span>
      </p>
      <svg class="circuit" viewBox="0 0 120 12" width="120" height="12" aria-hidden="true">
        <line x1="0" y1="6" x2="48" y2="6" stroke="currentColor" stroke-width="1"/>
        <circle cx="54" cy="6" r="2.5" fill="currentColor"/>
        <line x1="60" y1="6" x2="62" y2="6" stroke="currentColor" stroke-width="1"/>
        <circle cx="68" cy="6" r="2.5" fill="currentColor"/>
        <line x1="74" y1="6" x2="120" y2="6" stroke="currentColor" stroke-width="1"/>
      </svg>
      <p class="hero-meta">Electrician &middot; Brisbane &middot; Open Source</p>
    </header>

    <section class="about reveal">
      <p>
        I'm an electrician in Brisbane who got tired of the paperwork side of
        running a trade business. So I started building tools with AI to fix
        that. <a href="https://lawselecservices.com/">Laws Electrical</a> is
        where I test everything — each project below started as something I
        needed for my own business, then I put it on GitHub for other tradies
        to use.
      </p>
    </section>

    <section class="projects">
      <h2 class="reveal">
        <span class="section-dot"></span>
        Projects
      </h2>
      <div class="grid">
        {
          projects.map((project, i) => (
            <a
              href={project.repo}
              class="card reveal"
              style={`--delay: ${i * 0.07}s`}
              target="_blank"
              rel="noopener"
            >
              <div class="card-top">
                <h3>{project.name}</h3>
                <span class="tag">{project.tag}</span>
              </div>
              <p>{project.description}</p>
              <span class="card-link">View on GitHub &rarr;</span>
            </a>
          ))
        }
      </div>
    </section>

    <section class="side-projects">
      <h2 class="reveal">
        <span class="section-dot"></span>
        Side Projects
      </h2>
      <div class="grid">
        {
          sideProjects.map((project, i) => (
            <a
              href={project.url}
              class="card side-card reveal"
              style={`--delay: ${i * 0.07}s`}
              target="_blank"
              rel="noopener"
            >
              <h3>{project.name}</h3>
              <p>{project.description}</p>
              <div class="card-actions">
                <span class="card-link">Open app &rarr;</span>
                <a
                  href={project.repo}
                  class="card-secondary"
                  target="_blank"
                  rel="noopener"
                  onclick="event.stopPropagation()"
                >
                  GitHub
                </a>
              </div>
            </a>
          ))
        }
      </div>
    </section>

    <section class="links-section">
      <h2 class="reveal">
        <span class="section-dot"></span>
        Links
      </h2>
      <div class="link-grid">
        {
          links.map((link, i) => (
            <a
              href={link.url}
              class="link-item reveal"
              style={`--delay: ${i * 0.06}s`}
              target={link.icon !== "email" ? "_blank" : undefined}
              rel={link.icon !== "email" ? "noopener" : undefined}
            >
              <svg viewBox="0 0 24 24" width="16" height="16" fill="currentColor" aria-hidden="true">
                <path d={iconPaths[link.icon]}/>
              </svg>
              <span>{link.label}</span>
            </a>
          ))
        }
      </div>
    </section>

    <footer class="reveal">
      <p>&copy; {new Date().getFullYear()} Nick Laws</p>
    </footer>
  </main>
</Base>

<style>
  main {
    max-width: 800px;
    margin: 0 auto;
    padding: 4rem 1.5rem 2rem;
  }

  /* ---- Hero ---- */

  .hero {
    text-align: center;
    padding: 2rem 0 3rem;
    margin-bottom: 3rem;
  }

  .hero-bolt {
    color: var(--amber);
    margin-bottom: 1rem;
    position: relative;
    display: inline-block;
    cursor: pointer;
    animation: fadeIn 0.6s ease-out both, glow 3s ease-in-out 1s infinite;
  }

  .hero h1 {
    font-family: var(--font-heading);
    font-size: 3.5rem;
    font-weight: 800;
    color: var(--text);
    letter-spacing: -0.02em;
    line-height: 1.1;
    animation: slideUp 0.5s ease-out 0.1s both;
  }

  .tagline {
    font-size: 1.2rem;
    color: var(--text-secondary);
    margin-top: 0.75rem;
    animation: slideUp 0.5s ease-out 0.2s both;
  }

  .cursor {
    color: var(--amber);
    font-weight: 400;
    animation: blink 1s step-end infinite;
    animation-delay: 0.8s;
  }

  .circuit {
    color: var(--amber);
    opacity: 0.3;
    margin: 1.5rem auto;
    display: block;
    animation: fadeIn 0.8s ease-out 0.4s both;
  }

  .hero-meta {
    font-family: var(--font-mono);
    font-size: 0.8rem;
    color: var(--text-muted);
    letter-spacing: 0.05em;
    animation: fadeIn 0.6s ease-out 0.5s both;
  }

  /* ---- Spark Easter egg ---- */

  :global(.spark) {
    position: absolute;
    border-radius: 50%;
    background: var(--amber);
    pointer-events: none;
    animation: sparkFly 0.6s ease-out forwards;
  }

  /* ---- About ---- */

  .about {
    margin-bottom: 4rem;
  }

  .about p {
    font-size: 1.1rem;
    color: var(--text-secondary);
    line-height: 1.8;
    max-width: 640px;
  }

  .about a {
    color: var(--amber);
    font-weight: 600;
    border-bottom: 1px solid rgba(245, 166, 35, 0.3);
    transition: border-color 0.2s, color 0.2s;
  }

  .about a:hover {
    border-color: var(--amber);
    color: var(--amber-hover);
  }

  /* ---- Section headings ---- */

  h2 {
    font-family: var(--font-heading);
    font-size: 1.4rem;
    font-weight: 700;
    color: var(--text);
    margin-bottom: 1.5rem;
    display: flex;
    align-items: center;
    gap: 0.6rem;
  }

  .section-dot {
    width: 8px;
    height: 8px;
    background: var(--amber);
    border-radius: 50%;
    display: inline-block;
    flex-shrink: 0;
    animation: pulse 2s ease-in-out infinite;
  }

  /* ---- Grid & Cards ---- */

  .projects {
    margin-bottom: 4rem;
  }

  .grid {
    display: grid;
    grid-template-columns: 1fr 1fr;
    gap: 1rem;
  }

  .card {
    display: flex;
    flex-direction: column;
    background: var(--bg-card);
    border: 1px solid var(--border);
    border-left: 3px solid var(--border);
    border-radius: 8px;
    padding: 1.35rem;
    color: var(--text);
    transition: border-color 0.3s, background-color 0.3s, box-shadow 0.3s, transform 0.3s;
  }

  .card:hover {
    border-color: var(--amber);
    border-left-color: var(--amber);
    background: var(--bg-card-hover);
    box-shadow:
      0 0 24px -6px rgba(245, 166, 35, 0.1),
      0 8px 24px rgba(0, 0, 0, 0.2);
    transform: translateY(-3px);
    color: var(--text);
  }

  .card-top {
    display: flex;
    justify-content: space-between;
    align-items: flex-start;
    gap: 0.5rem;
    margin-bottom: 0.5rem;
  }

  .card h3 {
    font-family: var(--font-heading);
    font-size: 1rem;
    font-weight: 700;
    color: var(--text);
  }

  .tag {
    font-family: var(--font-mono);
    font-size: 0.6rem;
    color: var(--amber);
    background: var(--amber-dim);
    border: 1px solid rgba(245, 166, 35, 0.15);
    padding: 0.15rem 0.5rem;
    border-radius: 4px;
    white-space: nowrap;
    text-transform: uppercase;
    letter-spacing: 0.06em;
    flex-shrink: 0;
    margin-top: 0.1rem;
  }

  .card p {
    font-size: 0.875rem;
    color: var(--text-muted);
    flex: 1;
    line-height: 1.6;
    margin-bottom: 0.75rem;
  }

  .card-link {
    font-family: var(--font-mono);
    font-size: 0.75rem;
    color: var(--amber);
    opacity: 0.6;
    transition: opacity 0.2s;
  }

  .card:hover .card-link {
    opacity: 1;
  }

  /* ---- Side Projects ---- */

  .side-projects {
    margin-bottom: 4rem;
  }

  .side-card {
    border-left: 3px solid var(--amber);
    background: linear-gradient(135deg, var(--bg-card) 0%, rgba(245, 166, 35, 0.03) 100%);
  }

  .side-card:hover {
    background: linear-gradient(135deg, var(--bg-card-hover) 0%, rgba(245, 166, 35, 0.06) 100%);
  }

  .card-actions {
    display: flex;
    align-items: center;
    gap: 1rem;
  }

  .card-secondary {
    font-size: 0.75rem;
    color: var(--text-muted);
    border: 1px solid var(--border);
    border-radius: 4px;
    padding: 0.2rem 0.6rem;
    transition: border-color 0.2s, color 0.2s;
  }

  .card-secondary:hover {
    border-color: var(--amber);
    color: var(--amber);
  }

  /* ---- Links ---- */

  .links-section {
    margin-bottom: 4rem;
  }

  .link-grid {
    display: flex;
    flex-wrap: wrap;
    gap: 0.75rem;
  }

  .link-item {
    display: inline-flex;
    align-items: center;
    gap: 0.5rem;
    padding: 0.6rem 1rem;
    border: 1px solid var(--border);
    border-radius: 8px;
    font-size: 0.9rem;
    color: var(--text-secondary);
    transition: border-color 0.25s, background-color 0.25s, color 0.25s, transform 0.25s;
  }

  .link-item svg {
    flex-shrink: 0;
    opacity: 0.5;
    transition: opacity 0.25s;
  }

  .link-item:hover {
    border-color: var(--amber);
    background: var(--amber-dim);
    color: var(--amber);
    transform: translateY(-2px);
  }

  .link-item:hover svg {
    opacity: 1;
  }

  /* ---- Footer ---- */

  footer {
    text-align: center;
    padding-top: 2rem;
    border-top: 1px solid var(--border);
    color: var(--text-muted);
    font-size: 0.8rem;
    font-family: var(--font-mono);
  }

  /* ---- Responsive ---- */

  @media (max-width: 640px) {
    main {
      padding: 2.5rem 1.25rem 1.5rem;
    }

    .hero {
      padding: 1rem 0 2rem;
      margin-bottom: 2rem;
    }

    .hero h1 {
      font-size: 2.5rem;
    }

    .tagline {
      font-size: 1.05rem;
    }

    .grid {
      grid-template-columns: 1fr;
    }

    .card-top {
      flex-direction: column;
      gap: 0.3rem;
    }

    .tag {
      align-self: flex-start;
    }

    .projects,
    .side-projects,
    .links-section,
    .about {
      margin-bottom: 3rem;
    }
  }
</style>

<script>
  // Scroll-triggered reveal animations
  const observer = new IntersectionObserver(
    (entries) => {
      entries.forEach((entry) => {
        if (entry.isIntersecting) {
          entry.target.classList.add("visible");
          observer.unobserve(entry.target);
        }
      });
    },
    { threshold: 0.1, rootMargin: "0px 0px -40px 0px" }
  );

  document.querySelectorAll(".reveal").forEach((el) => observer.observe(el));

  // Lightning bolt spark Easter egg
  const bolt = document.getElementById("hero-bolt");
  if (bolt) {
    bolt.addEventListener("click", () => {
      for (let i = 0; i < 8; i++) {
        const spark = document.createElement("div");
        spark.className = "spark";
        const angle = Math.random() * Math.PI * 2;
        const dist = 20 + Math.random() * 35;
        const size = 2 + Math.random() * 3;
        spark.style.width = `${size}px`;
        spark.style.height = `${size}px`;
        spark.style.left = "50%";
        spark.style.top = "50%";
        spark.style.setProperty("--tx", `${Math.cos(angle) * dist}px`);
        spark.style.setProperty("--ty", `${Math.sin(angle) * dist}px`);
        bolt.appendChild(spark);
        spark.addEventListener("animationend", () => spark.remove());
      }
    });
  }
</script>
